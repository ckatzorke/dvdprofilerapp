<!DOCTYPE html>
<html>
  <head>
    <title>DVDProfiler CouchApp</title>
    <link rel="stylesheet" href="style/main.css" type="text/css">
    <link rel="stylesheet" href="style/thumbnailgallery.caroufredsel.css" type="text/css">
  </head>
  <body>
  	<div id="wrapper">
		<div id="header">DVDProfiler CouchApp</div>
	  	<div id="intro">
	  		<br>All data is provided by <a href="http://www.invelos.com/">invelos DVDProfiler</a> a totally awesome client application to manage your dvd collection. <br>
	  		Nevertheless, the online list provided by invelos is <a href="http://www.invelos.com/dvdcollection.aspx/Yubitsume">pretty low level</a>.
	  		Although there is a project for php (<a href="http://www.phpmyprofiler.de/">phpMyProfiler</a>), it also lacks of UI gimmicks and possibilities to extend the application.<br>
	  		The idea for DVDProfiler CouchApp was born out of curiosity to learn couchDB, so this showcase application was developed.
	  	</div>
	  	<div class="clearfix">&nbsp;</div>
	  	<div id="thumbnailgallerycontainer">
	  		<div class="containerheader">
		  		DVDProfiler Thumbnail Gallery
		  		<span style="float:right"><a id="helpthumbnailgallery"><img src="images/icons/help.png" height="16" width="16"></a></span>
	  		</div>
	  		<div id="helpthumbnailgallerymessage" style="display:none; cursor: default">
	  			<p><strong>About DVDProfiler Thumbnail Gallery</strong></p>
	  			<p>Thumbnail gallery using <a href="http://caroufredsel.frebsite.nl/">carouFredSel</a> as a jQuery carousel plugin, adding a few additional functions. like lazy loading.<br>
	  			It uses a CouchDB <a href="http://localhost:5984/dvdprofiler/_design/dvdprofiler/_view/thumbnailgallery?descending=true">view</a>, that emits all docs with the purchase date as key (descending).<br>
			    <ul>
				    <li class="advantage">Out-of-the-box plugin with nice UI and feature set</li>
				    <li class="advantage">Thumbnails are loaded lazily, inspired by jQuery lazy load (which won't work here), the images are loaded before they enter the viewable area, using the onBefore callback from caroufredsel, and the first set using onCreate respectively.</li>
				   	<li class="disadvantage">All items are loaded (since dynamically inserting items behaves really strange), which results in pretty large html and memory usage.</li>
				   	<li class="disadvantage">not yet responsive :-(</li>
			    </ul>
			    <div style="text-align: center"><button onclick="$.unblockUI()">OK</button></div>
	  		</div>
		    <div id="thumbnailgallery" class="image_carousel">
				<div id="carousel-thumbnailgallery" >
				</div>
				<div class="clearfix"></div>
		    </div>
	  	</div>
	  	<div id="infinitecollectionlistcontainer">
	  		<div class="containerheader">
		  		DVDProfiler Infinite Collection List
		  		<span style="float:right"><a id="helpinfinitecollectionlist"><img src="images/icons/help.png" height="16" width="16"></a></span>
	  		</div>
	  		<div id="helpinfinitecollectionlistmessage" style="display:none; cursor: default">
	  			<p><strong>About DVDProfiler Infinite Collection List</strong></p>
			    <div style="text-align: center"><button onclick="$.unblockUI()">OK</button></div>
	  		</div>
	  		<div id="infinitecollectionlistsettings">
	  		<input type="radio" name="infinitelistview" onchange="infinitelistloadingsettings.loadCounter=0;infinitelistloadingsettings.view=this.value;createInfiniteList();" value="infinitelistcollectionnumber" id="infinitecollectionlistsettings_view_number" checked="checked"/><label for="infinitecollectionlistsettings_view_number">by collection #</label>&nbsp;
	  		<input type="radio" name="infinitelistview" onchange="infinitelistloadingsettings.loadCounter=0;infinitelistloadingsettings.view=this.value;createInfiniteList();" value="infinitelisttitle" id="infinitecollectionlistsettings_view_title"/><label for="infinitecollectionlistsettings_view_title">by title</label>
	  			<br/>
	  			<input type="radio" name="infinitelistdescending" onchange="infinitelistloadingsettings.loadCounter=0;infinitelistloadingsettings.descending=this.value;createInfiniteList();" value="false" id="infinitecollectionlistsettings_descending_false"/><label for="infinitecollectionlistsettings_descending_false">ascending</label>&nbsp;
	  			<input type="radio" name="infinitelistdescending" onchange="infinitelistloadingsettings.loadCounter=0;infinitelistloadingsettings.descending=this.value;createInfiniteList();" value="true" checked="checked" id="infinitecollectionlistsettings_descending_true"/><label for="infinitecollectionlistsettings_descending_true">descending</label>
	  		</div>
	  		<div id="infinitecollectionlist"><img src="images/loading.gif" height="16" width="16"></div>
	  		<div id="infinitecollectionlistscrollinfo">Scroll for more...</div>
	  	</div>
	  	<div id="detailscontainer">
	  		DC
	  	</div>

  	</div>
  </body>
  
	<!--  built in libraries -->
<!-- 	<script type="text/javascript" src="/_utils/script/sha1.js"></script> -->
	<script type="text/javascript" src="vendor/couchapp/jquery-1.7.1.min.js"></script>
	<script type="text/javascript" src="vendor/couchapp/json2.js"></script>
	<script type="text/javascript" src="vendor/couchapp/jquery.couch.js"></script>
	<script type="text/javascript" src="vendor/couchapp/jquery.couchLogin.js"></script>
	<script type="text/javascript" src="vendor/couchapp/jquery.couchProfile.js"></script>
	<script type="text/javascript" src="vendor/couchapp/md5.js"></script>
	<script type="text/javascript" src="vendor/couchapp/jquery.mustache.js"></script>
	
	<!-- third party, jQuery plugins -->
	<script type="text/javascript" src="script/plugins/jquery.carouFredSel-5.4.1-packed.js"></script>
	<script type="text/javascript" src="script/plugins/jquery.blockUI.js"></script>


	<!-- mustache -->
	<script id="mustache-thumbnailgallery" type="text/x-mustache" charset="utf-8">
		{{#rows}}
			<img src="images/empty.png" original="/dvdprofiler/{{id}}/thumbnail_f" height="81" width="67" title="{{value}}, purchased on {{key}}" alt="{{value}}, purchased on {{key}}" onerror="this.src='images/noimage.jpg';/*$(this).after($('<div>{{value}}</div>').addClass('thumbnailoverlay'))*/">
		{{/rows}}
	</script>
	<script id="mustache-infinitecollectionlist" type="text/x-mustache" charset="utf-8">
		{{#rows}}
			{{#value}}<img src="/dvdprofiler/{{id}}/thumbnail_f" height="54" width="45" onerror="this.src='images/noimage.jpg';" />{{collectionNumber}} - {{title}}{{/value}}<br>
		{{/rows}}
	</script>

	<!-- application sripts -->
	<script src="script/app.js"></script>
	<script src="script/thumbnailgallery.js"></script>
	<script src="script/infinitecollectionlist.js"></script>

</html>
